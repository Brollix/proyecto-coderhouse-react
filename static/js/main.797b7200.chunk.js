(this["webpackJsonpproyecto-coderhouse"]=this["webpackJsonpproyecto-coderhouse"]||[]).push([[0],{110:function(e,t,a){e.exports=a(129)},115:function(e,t,a){},116:function(e,t,a){},122:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(42),o=a.n(c),l=(a(115),a(176)),i=a(31),m=a(98),u=a.n(m),d=(a(116),a(177)),s=a(179),E=a(96),p=a.n(E),b=a(17),f=a(11),v=Object(n.createContext)(),h=function(e){var t=e.children,a=Object(n.useState)([]),c=Object(f.a)(a,2),o=c[0],l=c[1];return r.a.createElement(v.Provider,{value:{cart:o,addToCart:function(e){l([].concat(Object(b.a)(o),[e]))},removeFromCart:function(e){l(o.filter((function(t){return t.id!==e})))},emptyCart:function(){o.length>0&&l([])},isInCart:function(e){return o.some((function(t){return t.id===e}))},totalCantidad:function(){return o.reduce((function(e,t){return e+t.cantidad}),0)},totalCompra:function(){return o.reduce((function(e,t){return e+t.precio*t.cantidad}),0)}}},t)},j=function(){var e=Object(n.useContext)(v).totalCantidad;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null),r.a.createElement("span",null,e()))},g=function(){return r.a.createElement(l.a,{sx:{flexGrow:1}},r.a.createElement(d.a,{position:"static"},r.a.createElement(s.a,null,r.a.createElement(i.b,{to:"/",style:{textDecoration:"none"}},r.a.createElement(u.a,null),"Monte Crypto"),r.a.createElement(i.b,{to:"/cart",style:{margin:"auto"}},r.a.createElement(j,null)))))},O=a(16),y=a(180),C=a(178),x=a(181),k=a(172),S=a(182),I=(a(122),function(){var e=Object(n.useContext)(v),t=e.cart,a=e.emptyCart,c=e.removeFromCart,o=e.totalCompra;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,null,t.map((function(e){return r.a.createElement(C.a,{key:e.id},r.a.createElement(x.a,null,e.marca),r.a.createElement(x.a,null,e.serie),r.a.createElement(x.a,null,"Total: $",o()),r.a.createElement(k.a,{onClick:function(){c(e.id)},variant:"text",color:"primary"},"Eliminar"))}))),t.length>0?r.a.createElement(S.a,{variant:"text",color:"primary","aria-label":""},r.a.createElement(k.a,{variant:"contained",color:"error",onClick:a},"Vaciar Carrito"),r.a.createElement(k.a,{variant:"contained",color:"success"},r.a.createElement(i.b,{to:"/checkout"},"Terminar mi Compra"))):r.a.createElement(k.a,{variant:"contained",color:"error"},r.a.createElement(i.b,{to:"/"},"Volver al Inicio")))}),D=a(21),w=a.n(D),F=a(28),M=a(3),A=a(43),T=a(24),V=a(99),U=Object(V.a)({apiKey:"AIzaSyA-fDRGxu8kyuBrECwu2t0t-3jWtlie9dI",authDomain:"curso-react-d5967.firebaseapp.com",projectId:"curso-react-d5967",storageBucket:"curso-react-d5967.appspot.com",messagingSenderId:"384736135801",appId:"1:384736135801:web:6b5ba4bcb3fbfa6917e2a8"}),P=Object(T.h)(U),R=a(173),$=a(183),q=a(171),B=a(100),G=a.n(B),H={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},J=function(){var e=Object(n.useContext)(v),t=e.cart,a=e.totalCompra,c=Object(n.useState)({nombre:"",email:"",telefono:""}),o=Object(f.a)(c,2),i=o[0],m=o[1],u=function(e){m(Object(A.a)(Object(A.a)({},i),{},Object(M.a)({},e.target.name,e.target.value)))},d=r.a.useState(!1),s=Object(f.a)(d,2),E=s[0],p=s[1],b=function(){return p(!1)},h=function(){var e=Object(F.a)(w.a.mark((function e(n){var c,o,m,u,d,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),c={buyer:Object(A.a)({},i),items:t,total:a(),date:T.a.fromDate(new Date)},o=Object(T.k)(P),m=Object(T.c)(P,"orders"),u=Object(T.c)(P,"productos"),d=Object(T.i)(u,Object(T.j)(Object(T.e)(),"in",t.map((function(e){return e.id})))),s=[],e.next=9,Object(T.g)(d);case 9:e.sent.docs.forEach((function(e){var a=t.find((function(t){return t.id===e.id}));e.data().stock>=a.cantidad?o.update(e.ref,{stock:e.data().stock-a.cantidad}):s.push(a)})),0===s.length?Object(T.b)(m,c).then((function(e){return o.commit(),console.log(t),r.a.createElement("div",null,r.a.createElement(R.a,{open:E,onClose:b},r.a.createElement(l.a,{sx:H},r.a.createElement(G.a,null),r.a.createElement(x.a,{variant:"h3",color:"initial"},"Su Orden ha sido Registrada!"),r.a.createElement(x.a,{variant:"h5",color:"initial"},"Su numero de Orden: ",e.id),r.a.createElement(k.a,{variant:"text",color:"primary"},r.a.createElement($.a,{to:"/"},"Aceptar")))))})):console.log(s);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,t.length>0?r.a.createElement(C.a,null,r.a.createElement(x.a,{variant:"h3",color:"primary"},"Ingres\xe1 tus Datos"),r.a.createElement(x.a,{variant:"body1",color:"initial"}),r.a.createElement("form",{onSubmit:h},r.a.createElement(q.a,{onChange:u,name:"nombre",variant:"outlined",value:i.nombre,label:"Nombre",required:!0}),r.a.createElement(q.a,{onChange:u,name:"email",variant:"outlined",value:i.email,type:"email",label:"Email",required:!0}),r.a.createElement(q.a,{onChange:u,name:"telefono",variant:"outlined",value:i.telefono,type:"number",label:"Tel\xe9fono",required:!0}),r.a.createElement(k.a,{onClick:function(){return p(!0)},type:"submit",variant:"contained",color:"secondary"},"Enviar"))):r.a.createElement(k.a,{variant:"outlined",color:"primary"},r.a.createElement($.a,{to:"/"},"Volver a Inicio")))},z=a(185),K=a(184),N=(a(126),function(e){var t=e.precio,a=e.cantidad,n=e.setCantidad;return r.a.createElement(C.a,null,r.a.createElement(x.a,{variant:"h6"},"Cantidad: ",a),r.a.createElement(x.a,{variant:"body1"},"Subtotal USD$ ",a*t),r.a.createElement(S.a,{sx:{margin:"1rem"}},r.a.createElement(k.a,{variant:"contained",color:"primary",onClick:function(){a>0&&n(a-1)}},"-"),r.a.createElement(k.a,{variant:"outlined",color:"error",onClick:function(){a>0&&n(a-a)}},"Vaciar"),r.a.createElement(k.a,{variant:"contained",color:"primary",onClick:function(){n(a+1)}},"+")))}),W=function(e){var t,a,c=e.id,o=e.tipo,m=e.marca,u=e.serie,d=e.socket,s=e.imagen,E=e.precio,p=Object(n.useContext)(v),b=p.addToCart,h=p.isInCart;"CPU"===o||"Motherboard"===o?(t=d[0],a="Socket: "):"RAM"===o&&(t=d[1],a="Memoria: ");var j=Object(n.useState)(0),g=Object(f.a)(j,2),O=g[0],C=g[1];return r.a.createElement(l.a,null,r.a.createElement(y.a,{key:c,sx:{width:"250px",maxHeight:"650px"}},r.a.createElement(K.a,{component:"img",title:s,image:s}),r.a.createElement(x.a,{variant:"h5",color:"initial"},o+" "+m+" "+u),r.a.createElement(x.a,{variant:"body2"},a,t),r.a.createElement(x.a,{variant:"h5",color:"initial"},"USD$",E),h(c)?r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{variant:"text",color:"primary","aria-label":""},r.a.createElement(k.a,{variant:"contained",color:"primary"},r.a.createElement(i.b,{to:"/"}," Volver al Inicio ")),r.a.createElement(k.a,{variant:"text",color:"success"},r.a.createElement(i.b,{to:"/cart"},"Terminar mi Compra")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{precio:E,cantidad:O,setCantidad:C}),r.a.createElement(k.a,{sx:{margin:"1rem"},variant:"contained",color:"success",onClick:function(){console.log(O),O>0&&b({id:c,tipo:o,marca:m,serie:u,socket:d,imagen:s,precio:E,cantidad:O})}},"Agregar al Carrito"))))},L=function(){var e=Object(n.useState)(),t=Object(f.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),l=Object(f.a)(o,2),i=l[0],m=l[1],u=Object(O.e)().itemID;return Object(n.useEffect)((function(){m(!0);var e=Object(T.d)(P,"productos",u);Object(T.f)(e).then((function(e){c(Object(A.a)({id:e.id},e.data()))})).finally((function(){m(!1)}))}),[u]),r.a.createElement(r.a.Fragment,null,i?r.a.createElement(z.a,null):r.a.createElement(W,a))},Q=a(175),X=function(e){var t=e.id,a=e.tipo,n=e.marca,c=e.serie,o=e.socket,l=e.imagen,m=e.precio;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{key:t,sx:{width:"250px",maxHeight:"450px"}},r.a.createElement(K.a,{component:"img",width:"250px",height:"250px",image:l,alt:l}),r.a.createElement(x.a,{variant:"body1",color:"initial"},a+" "+n),r.a.createElement(x.a,{variant:"body2"},"Modelo: ",c),r.a.createElement(x.a,{variant:"body2"},"Socket: ",o),r.a.createElement(x.a,{variant:"h5",color:"initial"},"USD$",m),r.a.createElement(k.a,{variant:"contained",color:"primary"},r.a.createElement(i.b,{to:"/detail/".concat(t),style:{color:"white",textDecoration:"none"}},"Ver M\xe1s"))))},Y=function(e){var t=e.productos;return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{variant:"h4",sx:{padding:"1rem"}},"Productos: CPU, Motherboard y RAM"),r.a.createElement(Q.a,{container:!0},t.map((function(e){return r.a.createElement(X,Object.assign({key:e.id},e))}))))},Z=(a(127),function(){var e=Object(n.useState)(!1),t=Object(f.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),i=Object(f.a)(o,2),m=i[0],u=i[1],d=Object(O.e)().typeID;return Object(n.useEffect)((function(){c(!0);var e=Object(T.c)(P,"productos");Object(T.g)(e).then((function(e){var t=e.docs.map((function(e){return Object(A.a)({id:e.id},e.data())}));u(t)})).finally((function(){c(!1)}))}),[d]),a?r.a.createElement(l.a,{sx:{display:"flex",padding:"1rem",right:"50%",top:"25%"}},r.a.createElement(z.a,null)):r.a.createElement(Y,{productos:m})}),_=function(){return Object(O.g)([{path:"/",element:r.a.createElement(Z,null)},{path:"/productos/:typeID",element:r.a.createElement(Z,null)},{path:"/detail/:itemID",element:r.a.createElement(L,null)},{path:"/cart",element:r.a.createElement(I,null)},{path:"/checkout",element:r.a.createElement(J,null)}])};a(128);var ee=function(){return r.a.createElement(h,null,r.a.createElement(i.a,null,r.a.createElement(g,null),r.a.createElement(_,null)))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ee,null)),document.getElementById("root"))}},[[110,1,2]]]);
//# sourceMappingURL=main.797b7200.chunk.js.map
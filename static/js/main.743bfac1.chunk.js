(this["webpackJsonpproyecto-coderhouse"]=this["webpackJsonpproyecto-coderhouse"]||[]).push([[0],{114:function(e,t,a){e.exports=a(133)},119:function(e,t,a){},120:function(e,t,a){},126:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(42),o=a.n(c),l=(a(119),a(172)),i=a(31),m=a(102),u=a.n(m),d=(a(120),a(181)),s=a(183),E=a(101),p=a.n(E),b=a(17),f=a(11),v=Object(n.createContext)(),h=function(e){var t=e.children,a=Object(n.useState)([]),c=Object(f.a)(a,2),o=c[0],l=c[1];return r.a.createElement(v.Provider,{value:{cart:o,addToCart:function(e){l([].concat(Object(b.a)(o),[e]))},removeFromCart:function(e){l(o.filter((function(t){return t.id!==e})))},emptyCart:function(){o.length>0&&l([])},isInCart:function(e){return o.some((function(t){return t.id===e}))},totalCantidad:function(){return o.reduce((function(e,t){return e+t.cantidad}),0)},totalCompra:function(){return o.reduce((function(e,t){return e+t.precio*t.cantidad}),0)}}},t)},j=function(){var e=Object(n.useContext)(v).totalCantidad;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null),r.a.createElement("span",null,e()))},O=function(){return r.a.createElement(l.a,{sx:{flexGrow:1}},r.a.createElement(d.a,{position:"static"},r.a.createElement(s.a,null,r.a.createElement(i.b,{to:"/",style:{textDecoration:"none"}},r.a.createElement(u.a,null),"Monte Crypto"),r.a.createElement(i.b,{to:"/cart",style:{margin:"auto"}},r.a.createElement(j,null)))))},g=a(16),y=a(184),C=a(182),x=a(185),k=a(177),S=a(186),D=(a(126),function(){var e=Object(n.useContext)(v),t=e.cart,a=e.emptyCart,c=e.removeFromCart,o=e.totalCompra;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,null,t.map((function(e){return r.a.createElement(C.a,{key:e.id},r.a.createElement(x.a,null,e.marca),r.a.createElement(x.a,null,e.serie),r.a.createElement(x.a,null,"Total: $",o()),r.a.createElement(k.a,{onClick:function(){c(e.id)},variant:"text",color:"primary"},"Eliminar"))}))),t.length>0?r.a.createElement(S.a,{variant:"text",color:"primary","aria-label":""},r.a.createElement(k.a,{variant:"contained",color:"error",onClick:a},"Vaciar Carrito"),r.a.createElement(k.a,{variant:"contained",color:"success"},r.a.createElement(i.b,{to:"/checkout"},"Terminar mi Compra"))):r.a.createElement(k.a,{variant:"contained",color:"error"},r.a.createElement(i.b,{to:"/"},"Volver al Inicio")))}),I=a(21),w=a.n(I),F=a(28),M=a(3),T=a(43),A=a(24),V=a(103),U=Object(V.a)({apiKey:"AIzaSyA-fDRGxu8kyuBrECwu2t0t-3jWtlie9dI",authDomain:"curso-react-d5967.firebaseapp.com",projectId:"curso-react-d5967",storageBucket:"curso-react-d5967.appspot.com",messagingSenderId:"384736135801",appId:"1:384736135801:web:6b5ba4bcb3fbfa6917e2a8"}),P=Object(A.h)(U),R=a(176),$=a(187),q=a(174),B=a(178),G={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function H(){var e=n.useState(!1),t=Object(f.a)(e,2),a=t[0],r=t[1];return n.createElement("div",null,n.createElement(k.a,{onClick:function(){return r(!0)}},"Open modal"),n.createElement(B.a,{open:a,onClose:function(){return r(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},n.createElement(q.a,{sx:G},n.createElement(x.a,{id:"modal-modal-title",variant:"h6",component:"h2"},"Text in a modal"),n.createElement(x.a,{id:"modal-modal-description",sx:{mt:2}},"Duis mollis, est non commodo luctus, nisi erat porttitor ligula."))))}var J=function(e){var t=e.handleOpen,a=Object(n.useContext)(v),c=a.cart,o=a.totalCompra,l=Object(n.useState)({nombre:"",email:"",telefono:""}),i=Object(f.a)(l,2),m=i[0],u=i[1],d=function(e){u(Object(T.a)(Object(T.a)({},m),{},Object(M.a)({},e.target.name,e.target.value)))},s=function(){var e=Object(F.a)(w.a.mark((function e(a){var n,l,i,u,d,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n={buyer:Object(T.a)({},m),items:c,total:o(),date:A.a.fromDate(new Date)},l=Object(A.k)(P),i=Object(A.c)(P,"orders"),u=Object(A.c)(P,"productos"),d=Object(A.i)(u,Object(A.j)(Object(A.e)(),"in",c.map((function(e){return e.id})))),s=[],e.next=9,Object(A.g)(d);case 9:e.sent.docs.forEach((function(e){var t=c.find((function(t){return t.id===e.id}));e.data().stock>=t.cantidad?l.update(e.ref,{stock:e.data().stock-t.cantidad}):s.push(t)})),0===s.length?Object(A.b)(i,n).then((function(e){return l.commit(),r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{res:e,handleOpen:t}))})):console.log(s);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,c.length>0?r.a.createElement(C.a,null,r.a.createElement(x.a,{variant:"h3",color:"primary"},"Ingres\xe1 tus Datos"),r.a.createElement(x.a,{variant:"body1",color:"initial"}),r.a.createElement("form",{onSubmit:s},r.a.createElement(R.a,{onChange:d,name:"nombre",variant:"outlined",value:m.nombre,label:"Nombre",required:!0}),r.a.createElement(R.a,{onChange:d,name:"email",variant:"outlined",value:m.email,type:"email",label:"Email",required:!0}),r.a.createElement(R.a,{onChange:d,name:"telefono",variant:"outlined",value:m.telefono,type:"number",label:"Tel\xe9fono",required:!0}),r.a.createElement(k.a,{onClick:t,type:"submit",variant:"contained",color:"secondary"},"Enviar"))):r.a.createElement(k.a,{variant:"outlined",color:"primary"},r.a.createElement($.a,{to:"/"},"Volver a Inicio")))},z=a(189),K=a(188),N=(a(130),function(e){var t=e.precio,a=e.cantidad,n=e.setCantidad;return r.a.createElement(C.a,null,r.a.createElement(x.a,{variant:"h6"},"Cantidad: ",a),r.a.createElement(x.a,{variant:"body1"},"Subtotal USD$ ",a*t),r.a.createElement(S.a,{sx:{margin:"1rem"}},r.a.createElement(k.a,{variant:"contained",color:"primary",onClick:function(){a>0&&n(a-1)}},"-"),r.a.createElement(k.a,{variant:"outlined",color:"error",onClick:function(){a>0&&n(a-a)}},"Vaciar"),r.a.createElement(k.a,{variant:"contained",color:"primary",onClick:function(){n(a+1)}},"+")))}),W=function(e){var t,a,c=e.id,o=e.tipo,m=e.marca,u=e.serie,d=e.socket,s=e.imagen,E=e.precio,p=Object(n.useContext)(v),b=p.addToCart,h=p.isInCart;"CPU"===o||"Motherboard"===o?(t=d[0],a="Socket: "):"RAM"===o&&(t=d[1],a="Memoria: ");var j=Object(n.useState)(0),O=Object(f.a)(j,2),g=O[0],C=O[1];return r.a.createElement(l.a,null,r.a.createElement(y.a,{key:c,sx:{width:"250px",maxHeight:"650px"}},r.a.createElement(K.a,{component:"img",title:s,image:s}),r.a.createElement(x.a,{variant:"h5",color:"initial"},o+" "+m+" "+u),r.a.createElement(x.a,{variant:"body2"},a,t),r.a.createElement(x.a,{variant:"h5",color:"initial"},"USD$",E),h(c)?r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{variant:"text",color:"primary","aria-label":""},r.a.createElement(k.a,{variant:"contained",color:"primary"},r.a.createElement(i.b,{to:"/"}," Volver al Inicio ")),r.a.createElement(k.a,{variant:"text",color:"success"},r.a.createElement(i.b,{to:"/cart"},"Terminar mi Compra")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{precio:E,cantidad:g,setCantidad:C}),r.a.createElement(k.a,{sx:{margin:"1rem"},variant:"contained",color:"success",onClick:function(){g>0&&b({id:c,tipo:o,marca:m,serie:u,socket:d,imagen:s,precio:E,cantidad:g})}},"Agregar al Carrito"))))},L=function(){var e=Object(n.useState)(),t=Object(f.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),l=Object(f.a)(o,2),i=l[0],m=l[1],u=Object(g.e)().itemID;return Object(n.useEffect)((function(){m(!0);var e=Object(A.d)(P,"productos",u);Object(A.f)(e).then((function(e){c(Object(T.a)({id:e.id},e.data()))})).finally((function(){m(!1)}))}),[u]),r.a.createElement(r.a.Fragment,null,i?r.a.createElement(z.a,null):r.a.createElement(W,a))},Q=a(180),X=function(e){var t,a=e.id,n=e.tipo,c=e.marca,o=e.serie,l=e.socket,m=e.imagen,u=e.precio,d=e.stock;return t="RAM"!==n?l[0]:l[1],r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{key:a,sx:{width:"250px",maxHeight:"450px"}},r.a.createElement(K.a,{component:"img",width:"250px",height:"250px",image:m,alt:m}),r.a.createElement(x.a,{variant:"body1",color:"initial"},n+" "+c),r.a.createElement(x.a,{variant:"body2"},"Modelo: ",o),r.a.createElement(x.a,{variant:"body2"},"Socket: ",t),r.a.createElement(x.a,{variant:"h5"},"USD$",u),r.a.createElement(x.a,{variant:"h6",color:"initial"},"Stock: ",d),r.a.createElement(k.a,{variant:"contained",color:"primary"},r.a.createElement(i.b,{to:"/detail/".concat(a),style:{color:"white",textDecoration:"none"}},"Ver M\xe1s"))))},Y=function(e){var t=e.productos;return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{variant:"h4",sx:{padding:"1rem"}},"Productos: CPU, Motherboard y RAM"),r.a.createElement(Q.a,{container:!0},t.map((function(e){return r.a.createElement(X,Object.assign({key:e.id},e))}))))},Z=(a(131),function(){var e=Object(n.useState)(!1),t=Object(f.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),i=Object(f.a)(o,2),m=i[0],u=i[1],d=Object(g.e)().typeID;return Object(n.useEffect)((function(){c(!0);var e=Object(A.c)(P,"productos");Object(A.g)(e).then((function(e){var t=e.docs.map((function(e){return Object(T.a)({id:e.id},e.data())}));u(t)})).finally((function(){c(!1)}))}),[d]),a?r.a.createElement(l.a,{sx:{display:"flex",padding:"1rem",right:"50%",top:"25%"}},r.a.createElement(z.a,null)):r.a.createElement(Y,{productos:m})}),_=function(){return Object(g.g)([{path:"/",element:r.a.createElement(Z,null)},{path:"/productos/:typeID",element:r.a.createElement(Z,null)},{path:"/detail/:itemID",element:r.a.createElement(L,null)},{path:"/cart",element:r.a.createElement(D,null)},{path:"/checkout",element:r.a.createElement(J,null)}])};a(132);var ee=function(){return r.a.createElement(h,null,r.a.createElement(i.a,null,r.a.createElement(O,null),r.a.createElement(_,null)))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ee,null)),document.getElementById("root"))}},[[114,1,2]]]);
//# sourceMappingURL=main.743bfac1.chunk.js.map